<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class AlignSubtree
   | World Locking Tools for Unity Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class AlignSubtree
   | World Locking Tools for Unity Documentation ">
    <meta name="generator" content="docfx 2.58.0.0">
    
    <link rel="shortcut icon" href="../../../DocGen/Images/Logos/favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../api_doc/toc.html">
    
    <meta property="docfx:rel" content="../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../DocGen/Images/Logos/WorldLock64.png" alt="">
              </a>
            </div>
          
          <div class="version-dropdown" id="versionDropdown">
           </div>
         
          <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree">
  
  
  <h1 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree" class="text-break">Class AlignSubtree
  </h1>
  <div class="markdown level0 summary"><p>Script to use an independent AlignmentManager to align a specific subtree, independent of the rest of the scene.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object">Object</a></div>
    <div class="level1"><span class="xref">AlignSubtree</span></div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Microsoft.MixedReality.WorldLocking.Core.html">Microsoft.MixedReality.WorldLocking.Core</a></h6>
  <h6><strong>Assembly</strong>: cs.temp.dll.dll</h6>
  <h5 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class AlignSubtree : MonoBehaviour</code></pre>
  </div>
  <h5 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>The subtree aligned by this will remain world-locked by the independent global world-locking
by the WorldLockingManager.
This script illustrates how to create and manage an independent AlignmentManager, and
apply its alignment to a specific subtree within the scene (the Sub Tree).
The global AlignmentManager, owned and managed by the WorldLockingManager, applies its
alignment to the global Unity coordinate space (frozen space). The desire here is to
use the same Space Pin feature to pin parts of a virtual model (subtree) to the physical world,
without affecting global space. To do this requires several steps:</p>
<ol>
<li>Create a new locally owned AlignmentManager (distinct from the one owned by the WorldLockingManager). See <span class="xref">Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.CheckInternalWiring</span>.</li>
<li>Point the desired SpacePins to use the locally owned AlignmentManager (they default to use the global one). See <span class="xref">Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.OnEnable</span>.</li>
<li>Use the local AlignmentManager to compute a correction pose, and apply it to the subtree. See <span class="xref">Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.Update</span>.
On point 2., there are a number of reasonable ways to harvest which SpacePins should use this local AlignmentManager, the
method used here, invoking GetComponentsInChildren, is just one such way.</li>
</ol>
</div>
  <h3 id="fields">Fields
  </h3>
  
  
  <h4 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_subTree" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.subTree">subTree</h4>
  <div class="markdown level1 summary"><p>The transform to align. If unset, will align this.transform.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Transform subTree</code></pre>
  </div>
  <h5 class="fieldValue">Field Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Transform</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_subTree_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>This transform must be identity at startup, and must not be modified
by anything but this AlignSubtree component.</p>
</div>
  <h3 id="properties">Properties
  </h3>
  
  
  <a id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_AlignmentManager_" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.AlignmentManager*"></a>
  <h4 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_AlignmentManager" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.AlignmentManager">AlignmentManager</h4>
  <div class="markdown level1 summary"><p>Owned independent AlignmentManager.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public AlignmentManager AlignmentManager { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.MixedReality.WorldLocking.Core.AlignmentManager.html">AlignmentManager</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  
  <a id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_CollectFromTree_" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.CollectFromTree*"></a>
  <h4 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_CollectFromTree" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.CollectFromTree">CollectFromTree</h4>
  <div class="markdown level1 summary"><p>Collect all SpacePins from this subtree to manage.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool CollectFromTree { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.boolean">Boolean</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  
  <a id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_SaveFileName_" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.SaveFileName*"></a>
  <h4 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_SaveFileName" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.SaveFileName">SaveFileName</h4>
  <div class="markdown level1 summary"><p>File name for saving to and loading from. Defaults to gameObject's name. Use forward slash '/' for subfolders.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string SaveFileName { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.string">String</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_SaveFileName_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>Any non-existent file and/or containing folders will be created if possible.</p>
</div>
  <h3 id="methods">Methods
  </h3>
  
  
  <a id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_AddOwnedPin_" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.AddOwnedPin*"></a>
  <h4 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_AddOwnedPin_Microsoft_MixedReality_WorldLocking_Core_SpacePin_" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.AddOwnedPin(Microsoft.MixedReality.WorldLocking.Core.SpacePin)">AddOwnedPin(SpacePin)</h4>
  <div class="markdown level1 summary"><p>Explicitly add a pin to the owned pins list.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool AddOwnedPin(SpacePin pin)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.MixedReality.WorldLocking.Core.SpacePin.html">SpacePin</a></td>
        <td><span class="parametername">pin</span></td>
        <td><p>THe pin to add.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.boolean">Boolean</a></td>
        <td><p>True if added, false if it was already there.</p>
</td>
      </tr>
    </tbody>
  </table>
  
  
  <a id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_ClaimPinOwnership_" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.ClaimPinOwnership*"></a>
  <h4 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_ClaimPinOwnership" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.ClaimPinOwnership">ClaimPinOwnership()</h4>
  <div class="markdown level1 summary"><p>This should be called whenever pins are added to the owned list.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void ClaimPinOwnership()</code></pre>
  </div>
  <h5 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_ClaimPinOwnership_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>It's only necessary to call this when adding pins to the owned list dynamically
from script. It is called from OnEnable for all pins added in the inspector or
collected from the scene graph subtree.</p>
</div>
  
  
  <a id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_ClearOwnedPins_" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.ClearOwnedPins*"></a>
  <h4 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_ClearOwnedPins" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.ClearOwnedPins">ClearOwnedPins()</h4>
  <div class="markdown level1 summary"><p>Clear the entire list of owned space pins.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void ClearOwnedPins()</code></pre>
  </div>
  <h5 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_ClearOwnedPins_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>This removes all pins in the list, whether added dynamically or added in the inspector.</p>
</div>
  
  
  <a id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_Load_" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.Load*"></a>
  <h4 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_Load" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.Load">Load()</h4>
  <div class="markdown level1 summary"><p>Explicit command to load the alignment manager from store.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool Load()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.boolean">Boolean</a></td>
        <td><p>True on successful load.</p>
</td>
      </tr>
    </tbody>
  </table>
  
  
  <a id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_RemoveOwnedPin_" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.RemoveOwnedPin*"></a>
  <h4 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_RemoveOwnedPin_Microsoft_MixedReality_WorldLocking_Core_SpacePin_" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.RemoveOwnedPin(Microsoft.MixedReality.WorldLocking.Core.SpacePin)">RemoveOwnedPin(SpacePin)</h4>
  <div class="markdown level1 summary"><p>Remove a specific pin from the owned pins list.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool RemoveOwnedPin(SpacePin pin)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.MixedReality.WorldLocking.Core.SpacePin.html">SpacePin</a></td>
        <td><span class="parametername">pin</span></td>
        <td><p>The pin to remove.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.boolean">Boolean</a></td>
        <td><p>True if removed, else false (probably not found).</p>
</td>
      </tr>
    </tbody>
  </table>
  
  
  <a id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_Save_" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.Save*"></a>
  <h4 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_Save" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.Save">Save()</h4>
  <div class="markdown level1 summary"><p>Explicit command to save the alignment manager to store.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool Save()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.boolean">Boolean</a></td>
        <td><p>True on successful save.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="events">Events
  </h3>
  
  
  <h4 id="Microsoft_MixedReality_WorldLocking_Core_AlignSubtree_OnAlignManagerCreated" data-uid="Microsoft.MixedReality.WorldLocking.Core.AlignSubtree.OnAlignManagerCreated">OnAlignManagerCreated</h4>
  <div class="markdown level1 summary"><p>Fired when a new AlignmentManager has been created throughout CheckInternalWiring</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public event EventHandler&lt;IAlignmentManager&gt; OnAlignManagerCreated</code></pre>
  </div>
  <h5 class="eventType">Event Type</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">EventHandler</span>&lt;<a class="xref" href="Microsoft.MixedReality.WorldLocking.Core.IAlignmentManager.html">IAlignmentManager</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
